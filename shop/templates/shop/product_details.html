{% extends 'shop/base.html' %}

{% load static %}

{% block title %}
    {{product.name}}
{% endblock %}


{% block content %}
    <div class="container flex flex-col md:flex-row gap-16 my-8 ">
        <div class="w-full md:w-1/3 min-w-[24rem]">
            <img src="{{ product.product_image.url }}" alt="{{ product.name }}" class="w-full h-96 object-cover rounded-lg mb-4">
            
        </div>
        <div class="w-full md:w-2/3 flex flex-col justify-between gap-4">
            <h3 class="font-bold text-3xl my-2 max-w-[32rem]">{{product.product_name}}</h3>
            <h3 class="text-[#FF9900] text-2xl mb-4">Ksh.<span class="font-bold">{{ product.price }}</span></h3>
            <div class="flex flex-row justify-between gap-4">
                <form method="post" action="{% url 'shop:add_to_cart' product.id %}">
                    {% if product.stock_quantity <= 0 %}
                        <button type="button" class="bg-gray-300 text-gray-600 py-2 px-4 rounded-full cursor-not-allowed font-semibold text-[12px]">Out of Stock</button>   
                    {% else %}
                    {% csrf_token %}
                    <input type="hidden" name="product_id" value="{{ product.id }}">
                    <button type="submit" class="bg-[#FF9900] text-white font-bold py-2 px-4 text-[12px] rounded-full hover:bg-[#E68A00] transition duration-300">+ Add to Cart</button>
                    {%endif%}
                </form>
                 
            </div>
            <div class="mt-8">
                <h5 class="font-semibold text-3xl mb-2">About this product </h5>
                <p class="text-gray-500 mb-4">${{ product.description }}</p>
                <a href="{% url 'shop:product_list' %}" class="text-[#FF9900] font-semibold hover:text-[#E68A00] underline">Back to Product List</a> 
            </div>
        </div>
        
    </div>

{%endblock%}